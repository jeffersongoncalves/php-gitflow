#!/usr/bin/env php
<?php

$root = dirname(__DIR__);
$pathRepository = getcwd();

if (!is_file(sprintf('%s/vendor/autoload.php', $root))) {
    $root = dirname(__DIR__, 4);
}

require sprintf('%s/vendor/autoload.php', $root);

use JeffersonSimaoGoncalves\PhpGitflow\Commands\DisplayInfo;
use JeffersonSimaoGoncalves\PhpGitflow\GitRepository;
use Symfony\Component\Console\Application;

$repository = new GitRepository($pathRepository);

$commandDisplayInfo = new DisplayInfo();
$commandDisplayInfo->setRepository($repository);

$application = new Application();
$application->add($commandDisplayInfo);
$application->setDefaultCommand($commandDisplayInfo->getName());
$application->run();
